.loan-report-container {
  padding: 20px;
  font-family: 'Roboto', sans-serif;

  .filter-section {
    margin-bottom: 20px;
    
    h2 {
      color: #3f51b5;
      margin-bottom: 20px;
      font-weight: 500;
    }

    .filter-form {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      align-items: center;

      mat-form-field {
        min-width: 200px;
        flex: 1;
      }

      .search-button {
        margin-top: 5px;
        flex: 0 0 auto;
      }
    }

    .selected-agents {
      margin-top: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      
      mat-chip {
        margin: 0;
      }
    }
  }

  .table-container {
    overflow-x: auto;
    border-radius: 4px;
    background: white;
    border: 1px solid #e0e0e0;
    
    .loan-report-table {
      width: 100%;
      min-width: 1800px;
      border-spacing: 0;
      border-collapse: separate;

      // Override Angular Material styles with more specific selectors
      .mat-header-cell, .mat-cell {
        border: 1px solid #e0e0e0 !important;
        padding: 10px 8px;
        font-size: 14px;
      }

      // Header group styling
      .group-header-row {
        height: 50px;
        
        .group-header {
          background-color: #3f51b5;
          color: white;
          font-weight: 500;
          font-size: 16px;
          text-align: center;
          padding: 12px 8px;
          border: 1px solid #e0e0e0 !important;
          
          &:first-child {
            text-align: left;
            border-top-left-radius: 4px;
          }
          
          &:last-child {
            border-top-right-radius: 4px;
          }
        }
      }

      // Subheader styling
      .sub-header-row {
        height: 40px;
        
        .sub-header {
          background-color: #5c6bc0;
          color: white;
          font-weight: 500;
          padding: 10px 8px;
          text-align: center;
          border: 1px solid #e0e0e0 !important;
          
          &:first-child {
            text-align: left;
          }
        }
      }

      // Header cell specific styling
      .mat-header-cell {
        background-color: #f5f5f5;
        font-weight: 600;
        text-align: center;
      }
      
      // Data cell specific styling
      .mat-cell {
        text-align: center;
      }
      
      // Specific cell styles
      .agent-cell {
        font-weight: 500;
        text-align: left;
        color: #3f51b5;
      }
      
      .profit-cell {
        font-weight: 500;
        background-color: #e8f5e9;
      }

      // Row styling
      .mat-row {
        height: 48px;
        
        &:nth-child(even) {
          background-color: #fafafa;
        }
        
        &:hover {
          background-color: #f1f8ff;
        }
        
        &:last-child {
          .mat-cell:first-child {
            border-bottom-left-radius: 4px;
          }
          .mat-cell:last-child {
            border-bottom-right-radius: 4px;
          }
        }
      }

      // Column specific styling
      .mat-column-agentName {
        min-width: 150px;
        text-align: left;
      }

      // Numeric columns
      .mat-column-newCustomers,
      .mat-column-totalLoanCount,
      .mat-column-totalCustomer,
      .mat-column-newCustomerCount,
      .mat-column-newTotalLoan,
      .mat-column-oldCustomerCount,
      .mat-column-oldTotalLoan {
        text-align: right;
        min-width: 100px;
      }

      // Currency columns
      .mat-column-newTotalIn,
      .mat-column-newTotalOut,
      .mat-column-newEstimateProfit,
      .mat-column-newActualProfit,
      .mat-column-oldTotalIn,
      .mat-column-oldTotalOut,
      .mat-column-oldEstimateProfit,
      .mat-column-oldActualProfit,
      .mat-column-totalEstimateProfit,
      .mat-column-totalActualProfit {
        text-align: right;
        min-width: 120px;
      }
    }
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .loan-report-container {
    padding: 10px;
    
    .filter-form {
      flex-direction: column;
      align-items: stretch !important;
      
      mat-form-field {
        width: 100%;
      }
      
      .search-button {
        align-self: flex-end;
      }
    }
    
    .table-container {
      border: 1px solid #e0e0e0;
    }
  }
}